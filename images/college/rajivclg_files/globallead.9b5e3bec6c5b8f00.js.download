"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2815],{19213:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var a=r(59499),n=r(67294),u=r(74555),o=r(45697),c=r.n(o),s=r(1835),i=r(82492),f=r.n(i),p=r(69624),l=r(59022),g=r(11163),_=r(95501),d=function(e){return function(t){t({type:_.in,data:e})}},y=r(63247),h=r(85893);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(e){var t=(0,g.useRouter)(),r=(0,n.useRef)();if(r.current=(0,y.ap)(),e.globalData.isApp)return(0,h.jsx)(h.Fragment,{});var a=(0,u.I0)(),o=e.isAuthenticated,c=e.isModalOpen,i=e.leadParams,_=void 0===i?{}:i,O=e.layoutData,v=void 0===O?{}:O,m=(0,u.v9)((function(e){return e.leadFormStatus.leadformDefaultData})),P=(0,n.useRef)(m);(0,n.useEffect)((function(){P.current=m}),[m]);var j={leadParams:b({page_name:e.pageName,lead_type:"auto_popup"},_),layoutData:b({},v)},w=(0,n.useRef)(c),D=(0,n.useRef)(o);return(0,n.useEffect)((function(){D.current=o,w.current=c}),[c,o]),(0,n.useEffect)((function(){a(d(j))}),[t.asPath]),(0,n.useEffect)((function(){a(d(j));var e=null,t=new URLSearchParams(window.location.search),n=t.has("popup")&&t.get("popup"),u=t.has("delay")&&t.get("delay")||0;if("true"===n){var o=t.has("close")&&t.get("close"),c=t.has("l_course_tag")&&1*t.get("l_course_tag")||t.has("course_tag")&&1*t.get("course_tag"),i=t.has("l_city")&&1*t.get("l_city")||t.has("city")&&1*t.get("city"),g=0;c&&(g=t.has("l_course_tag_fix")&&1*t.get("l_course_tag_fix")||t.has("course_tag_fix")&&1*t.get("course_tag_fix")),u=u<30?1e3*u:0;var _={};c&&(_.course_tag=c),i&&(_.city=i),g&&(_.course_tag_fix=g),e=setTimeout((function(){if("open"!==w.current){j.leadParams.lead_type="popup_true";var e=f()({},P.current,j);"0"===o&&a((0,l._x)(!0)),a((0,p.iX)({source:"POPUP",fields:_})),a((0,p.Me)(e))}}),u)}else u=3e4,e=setTimeout((function(){if("closed"!==(0,s.zt)("ldCookie")&&!D.current&&"open"!==w.current&&r.current){j.leadParams.lead_type="auto_popup";var e=f()({},P.current,j);a((0,p.Me)(e))}}),u);return function(){clearTimeout(e)}}),[]),(0,h.jsx)(h.Fragment,{})};v.propTypes={pageName:c().string.isRequired,isAuthenticated:c().bool,isModalOpen:c().string};var m=(0,u.$j)((function(e){return{isAuthenticated:!!e.authentication.token,isModalOpen:e.popupStatus.status,globalData:e.globalData}}))(v)},79234:function(e,t,r){r.r(t),r.d(t,{default:function(){return a.default}});var a=r(19213)}}]);